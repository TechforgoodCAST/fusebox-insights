<%# TODO: refactor %>

<nav aria-label="breadcrumb">
  <div class="container">
    <ol class="breadcrumb bg-white pl-0 mt-2 mb-0">

      <li class="breadcrumb-item active" aria-current="page">
        <%= link_to "Projects", projects_path, class: "link-border text-dark" %>
      </li>

      <% if @project.present? && action_name == "show" && controller_name == "projects" %>
        <li class="breadcrumb-item active" aria-current="page">
          <span class="text-dark"><%= @project.name %></span>
        </li>
      <% elsif @project.present? && @project.id.present? && (action_name != "new" || controller_name != "projects") %>
        <li class="breadcrumb-item active" aria-current="page">
          <%= link_to @project.name, project_path(@project), class: "link-border text-dark" %>
        </li>
      <% end %>

      <% if controller_name == "support_messages" && action_name == "index" %>
        <li class="breadcrumb-item active" aria-current="page">
          <span class="text-dark">Support</span>
        </li>
      <% elsif controller_name == "support_messages" %>
        <li class="breadcrumb-item active" aria-current="page">
          <%= link_to "Support", project_support_messages_path(@project), class: "link-border text-dark" %>
        </li>
      <% end %>

      <% if action_name == "edit" || action_name == "new" %>
        <li class="breadcrumb-item active" aria-current="page">
          <% if controller_name == "assumptions" %>
            <span class="text-dark"><%= action_name.humanize %> card</span>
          <% else %>
            <span class="text-dark"><%= action_name.humanize %> <%= controller_name.singularize %></span>
          <% end %>
        </li>
      <% end %>

    </ol>
  </div>
</nav>
